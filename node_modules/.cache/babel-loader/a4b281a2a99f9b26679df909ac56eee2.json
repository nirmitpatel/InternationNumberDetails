{"ast":null,"code":"import _regeneratorRuntime from\"/Users/npatel-mbp/Desktop/IntNumLookup/react-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/npatel-mbp/Desktop/IntNumLookup/react-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/npatel-mbp/Desktop/IntNumLookup/react-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/npatel-mbp/Desktop/IntNumLookup/react-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReturnDetails from'./components/ReturnDetails';//import useNumberDetails from './components/useNumberDetails';\nimport*as d3 from'd3';import data from\"./BandwidthHighRiskBlock.csv\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),phoneDetails=_useState4[0],setPhoneDetails=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),csvData=_useState6[0],setCsvData=_useState6[1];useEffect(function(){d3.csv(data).then(function(dta){setCsvData(dta);});},[]);var handleInput=function handleInput(e){e.preventDefault();setPhone(e.target.value);//console.log(phone)\n};var toggleButtonState=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(phoneDetails){setPhoneDetails([]);}e.preventDefault();fetch('http://apilayer.net/api/validate?access_key=1fcc33e69f7fee637d15338c111fe68f&number='+phone+'&country_code=&format=1').then(function(response){return response.json();}).then(function(data){setPhoneDetails(function(phoneDetails){return[].concat(_toConsumableArray(phoneDetails),[data]);});console.log('in the toggle fetch');});case 3:case\"end\":return _context.stop();}}},_callee);}));return function toggleButtonState(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone Number: \"}),/*#__PURE__*/_jsx(\"input\",{value:phone,onChange:function onChange(e){return handleInput(e);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return toggleButtonState(e);},children:\" Click me \"}),/*#__PURE__*/_jsx(ReturnDetails,{csv:csvData,phoneDetails:phoneDetails})]});}// ReactDOM.render(<App />, document.getElementById('container'));\nexport default App;","map":{"version":3,"sources":["/Users/npatel-mbp/Desktop/IntNumLookup/react-api/src/App.js"],"names":["React","useState","useEffect","ReturnDetails","d3","data","App","phone","setPhone","phoneDetails","setPhoneDetails","csvData","setCsvData","csv","then","dta","handleInput","e","preventDefault","target","value","toggleButtonState","fetch","response","json","console","log"],"mappings":"iqBACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA;AACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,C,wFAGA,QAASC,CAAAA,GAAT,EAAc,CAEZ,cAAyBL,QAAQ,EAAjC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAwCP,QAAQ,CAAC,EAAD,CAAhD,yCAAOQ,YAAP,eAAqBC,eAArB,eACA,eAA8BT,QAAQ,CAAC,EAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAEAV,SAAS,CAAC,UAAK,CACbE,EAAE,CAACS,GAAH,CAAOR,IAAP,EAAaS,IAAb,CAAkB,SAASC,GAAT,CAAc,CAE9BH,UAAU,CAACG,GAAD,CAAV,CAEH,CAJC,EAKD,CANQ,CAMP,EANO,CAAT,CAQA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACAV,QAAQ,CAACS,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,CACA;AACD,CAJD,CAKF,GAAMC,CAAAA,iBAAiB,0FAAG,iBAAMJ,CAAN,kHACxB,GAAGR,YAAH,CAAgB,CAACC,eAAe,CAAC,EAAD,CAAf,CAAoB,CACrCO,CAAC,CAACC,cAAF,GACAI,KAAK,CAAC,uFAAyFf,KAAzF,CAAiG,yBAAlG,CAAL,CACCO,IADD,CACM,SAAAS,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECV,IAFD,CAEM,SAACT,IAAD,CAAU,CAEdK,eAAe,CAAC,SAAAD,YAAY,qCAAQA,YAAR,GAAsBJ,IAAtB,IAAb,CAAf,CACCoB,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACF,CAND,EAHwB,sDAAH,kBAAjBL,CAAAA,iBAAiB,4CAAvB,CAcE,mBAEE,oCACE,qCADF,cACuB,cAAO,KAAK,CAAId,KAAhB,CAAuB,QAAQ,CAAI,kBAACU,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAlB,EAAnC,EADvB,cAEE,eAAQ,OAAO,CAAE,iBAACA,CAAD,QAAOI,CAAAA,iBAAiB,CAACJ,CAAD,CAAxB,EAAjB,wBAFF,cAII,KAAC,aAAD,EAAgB,GAAG,CAAIN,OAAvB,CAAgC,YAAY,CAAIF,YAAhD,EAJJ,GAFF,CAUD,CAED;AAEA,cAAeH,CAAAA,GAAf","sourcesContent":["\nimport React, {useState, useEffect} from 'react';\nimport ReturnDetails from './components/ReturnDetails';\n//import useNumberDetails from './components/useNumberDetails';\nimport * as d3 from 'd3';\nimport data from \"./BandwidthHighRiskBlock.csv\";\n\n\nfunction App(){\n\n  const [phone, setPhone]= useState()\n  const [phoneDetails, setPhoneDetails] = useState([])\n  const [csvData, setCsvData] = useState([])\n\n  useEffect(()=> {\n    d3.csv(data).then(function(dta) {\n         \n      setCsvData(dta)\n     \n  })\n  },[])\n  \n  const handleInput = (e) => {\n    e.preventDefault()\n    setPhone(e.target.value)\n    //console.log(phone)\n  }\nconst toggleButtonState = async(e) => {\n  if(phoneDetails){setPhoneDetails([])}\n  e.preventDefault()\n  fetch('http://apilayer.net/api/validate?access_key=1fcc33e69f7fee637d15338c111fe68f&number=' + phone + '&country_code=&format=1')\n  .then(response => response.json())\n  .then((data) => {\n    \n    setPhoneDetails(phoneDetails => [...phoneDetails, data])\n     console.log('in the toggle fetch')\n  }\n  )\n};\n\n\n  return (\n    \n    <div>\n      <p>Phone Number: </p><input value = {phone} onChange = {(e) => handleInput(e)} />\n      <button onClick={(e) => toggleButtonState(e)}> Click me </button>\n      \n        <ReturnDetails  csv = {csvData} phoneDetails = {phoneDetails} /> \n    </div>\n  );\n  \n}\n\n// ReactDOM.render(<App />, document.getElementById('container'));\n\nexport default App;"]},"metadata":{},"sourceType":"module"}